<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Drag Drop</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">
</head>
<body>
    <ul class="sortable-list">
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-1.jpg">
                <span>Kristiana Zasiadko</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-2.jpg">
                <span>Gabrial Wilson</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-3.jpg">
                <span>Ronnie Cesicon</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-4.jpg">
                <span>James Khosragi</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-5.jpg">
                <span>Annika Heyden</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
        <li class="item" draggable="true">
            <div class="details">
                <img src="images/img-6.jpg">
                <span>Donald Horton</span>
            </div>
            <i class="uil uil-draggabledots"></i>
        </li>
    </ul>

    <script>
        const sortableEle = document.querySelector(".sortable-list")

const itemEle = document.querySelectorAll(".item")



itemEle.forEach(item =>{
    item.addEventListener("dragstart" , ()=>{
        setTimeout(() => item.classList.add("dragging"), 0);
    });



    item.addEventListener("dragend", ()=>{
        item.classList.remove("dragging");
    });
    
});

const initialSortableList = (e)=>{
    e.preventDefault();


    const draggingItem = document.querySelector(".dragging");


    let siblings = [...sortableEle.querySelectorAll(".item:not(.dragging)")];


    let nextSibling= siblings.find(sibling =>{
        return e.clientY <= sibling.offsetTop + sibling.offsetHeight / 2;
     });
    

     sortableEle.insertBefore(draggingItem, nextSibling);
     
}



sortableEle.addEventListener("dragover", initialSortableList);

sortableEle.addEventListener("dragenter", e => e.preventDefault());
    </script>
</body>
</html>